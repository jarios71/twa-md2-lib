!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/material"),require("rxjs/operators"),require("@angular/common"),require("@angular/flex-layout"),require("@angular/material/input"),require("@angular/material/checkbox"),require("@angular/material/select"),require("@angular/material/radio"),require("@angular/material/datepicker"),require("@angular/material/autocomplete"),require("ngx-material-timepicker"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("twa-md2-dialogs",["exports","@angular/core","@angular/forms","@angular/material","rxjs/operators","@angular/common","@angular/flex-layout","@angular/material/input","@angular/material/checkbox","@angular/material/select","@angular/material/radio","@angular/material/datepicker","@angular/material/autocomplete","ngx-material-timepicker","@angular/platform-browser"],t):t(e["twa-md2-dialogs"]={},e.ng.core,e.ng.forms,e.ng.material,e.rxjs.operators,e.ng.common,e.ng["flex-layout"],e.ng.material.input,e.ng.material.checkbox,e.ng.material.select,e.ng.material.radio,e.ng.material.datepicker,e.ng.material.autocomplete,null,e.ng.platformBrowser)}(this,function(e,t,u,o,r,n,a,i,l,p,m,s,c,f,d){"use strict";var g=function(){function e(e){this.match=e}return e.prototype.validate=function(e){var t=e.value,o=e.root.get(this.match);return o&&t!==o.value?{match:!1}:null},e.decorators=[{type:t.Directive,args:[{selector:"[tm-match][formControlName],[tm-match][formControl],[tm-match][ngModel]",providers:[{provide:u.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:String,decorators:[{type:t.Attribute,args:["tm-match"]}]}]},e}(),y=function(){function e(e){this.dialogRef=e}return e.decorators=[{type:t.Component,args:[{selector:"twa-app-confirm-dialog",template:'\n    <h2>{{ title }}</h2>\n    <p [innerHtml]="messageHtml"></p>\n\n    <button type="button" mat-raised-button\n        (click)="dialogRef.close(true)">{{ okText }}</button>\n    <button type="button" mat-button *ngIf="cancelText > \'\'"\n        (click)="dialogRef.close()">{{ cancelText }}</button>\n    '}]}],e.ctorParameters=function(){return[{type:o.MatDialogRef}]},e}();var v=function(){function e(e){this.dialogRef=e,this.form=new u.FormGroup({}),this.formSubmitEv=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e={};for(var t in this.fields)this.fields.hasOwnProperty(t)&&(e[this.fields[t].key]=new u.FormControl(this.fields[t].value||"",this.mapValidators(this.fields[t].validation,this.fields[t].key)),"undefined"!=typeof this.fields[t].autocomplete&&this.fields[t].autocomplete!==undefined&&(this.fields[t].autocomplete.filteredOptions=this.getFormGroupEvent(e,t)));this.form=new u.FormGroup(e)},e.prototype.getFormGroupEvent=function(e,t){var o=this;return e[this.fields[t].key].valueChanges.pipe(r.startWith(""),r.map(function(e){return e?o._filterValues(e,o.fields[t].autocomplete.options):o.fields[t].autocomplete.options.slice()}))},e.prototype.log=function(e){console.log(e)},e.prototype._filterValues=function(e,t){var o=e.toLowerCase();return t.filter(function(e){return 0<=e.toLowerCase().indexOf(o)})},e.prototype.getFormSubmitEv=function(){return this.formSubmitEv},e.prototype.send=function(){var e;if(this.form.updateValueAndValidity(),"INVALID"!==this.form.status)this.dialogRef.close(this.form.value);else for(e in this.form.controls)this.form.controls.hasOwnProperty(e)&&(this.form.controls[e].markAsTouched({onlySelf:!0}),this.form.controls[e].updateValueAndValidity())},e.prototype.acClick=function(e,t){"undefined"!=typeof e.autocomplete&&"undefined"!=typeof e.autocomplete.forceSelect&&e.autocomplete.forceSelect&&(e.autocomplete.selected=t.option.value)},e.prototype.acCheckBlur=function(e){"undefined"!=typeof e.autocomplete&&"undefined"!=typeof e.autocomplete.forceSelect&&e.autocomplete.forceSelect&&(e.autocomplete.selected&&e.autocomplete.selected===this.form.controls[e.key].value||(this.form.controls[e.key].setValue(null),e.autocomplete.selected=""))},e.prototype.submitForm=function(e){this.formSubmitEv.emit(e)},e.prototype.drawCustomErrors=function(e,t){return"undefined"!=typeof e.validationMessages&&("undefined"!=typeof e.validationMessages[t]&&""<e.validationMessages[t])},e.prototype.mapValidators=function(o,r){var e,t,n=this,a=[];if(o){var i=function(t){"required"===t?a.push(u.Validators.required):"match"===t?a.push(function(){var e=n.form.get(o[t]);return n.form.get(r)||null,!(n.form.get(r)&&n.form.get(r).value===e.value)?{match:!0}:null}):"min"===t?a.push(u.Validators.min(o[t])):"max"===t&&a.push(u.Validators.max(o[t]))};try{for(var l=function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}}(Object.keys(o)),m=l.next();!m.done;m=l.next()){i(m.value)}}catch(s){e={error:s}}finally{try{m&&!m.done&&(t=l["return"])&&t.call(l)}finally{if(e)throw e.error}}}return a},e.decorators=[{type:t.Component,args:[{selector:"twa-app-prompt-dialog",styles:[".mat-error { display: block; margin: -15px 0 15px; }"],template:'\n    <h2>{{ title }}</h2>\n    <p [innerHtml]="messageHtml"></p>\n\n    <form novalidate (ngSubmit)="submitForm(form.value)" [formGroup]="form" fxLayout="row wrap" fxLayoutGap="10px">\n        <div *ngFor="let prop of fields" fxFlex="{{prop.fxFlex ? (\'calc(\' + prop.fxFlex + \' - 10px)\') : \'100%\'}}" fxLayout="column">\n            <div [ngSwitch]="prop.type" fxFlex="100%">\n                <div *ngSwitchCase="\'text\'">\n                    <mat-form-field *ngIf="!prop.autocomplete" fxFlex>\n                        <input matInput placeholder="{{prop.label}}"\n                            [formControlName]="prop.key"\n                            [id]="prop.key" [type]="prop.type" fxFlex>\n                    </mat-form-field>\n                    <div *ngIf="prop.autocomplete" fxFlex>\n                        <mat-form-field fxFlex>\n                            <input matInput placeholder="{{prop.label}}"\n                                [formControlName]="prop.key"\n                                [matAutocomplete]="auto"\n                                (blur)="acCheckBlur(prop)"\n                                [id]="prop.key" [type]="prop.type">\n                        </mat-form-field>\n                        <mat-autocomplete #auto="matAutocomplete"\n                            (optionSelected)="acClick(prop, $event)">\n                            <mat-option *ngFor="let option of prop.autocomplete.filteredOptions | async"\n                                [value]="option">\n                            {{ option }}\n                            </mat-option>\n                        </mat-autocomplete>\n                    </div>\n                </div>\n                <div *ngSwitchCase="\'password\'">\n                    <mat-form-field fxFlex>\n                        <input matInput type="password" placeholder="{{prop.label}}"\n                            [formControlName]="prop.key"\n                            [id]="prop.key" [type]="prop.type" fxFlex>\n                    </mat-form-field>\n                </div>\n                <div *ngSwitchCase="\'textarea\'">\n                    <mat-form-field fxFlex>\n                        <textarea matInput placeholder="{{prop.label}}" rows="{{prop.rows||\'3\'}}" autosize\n                            [formControlName]="prop.key"\n                            [id]="prop.key" [type]="prop.type"></textarea>\n                    </mat-form-field>\n                </div>\n                <div *ngSwitchCase="\'number\'">\n                    <mat-form-field fxFlex>\n                        <input matInput placeholder="{{prop.label}}"\n                            [formControlName]="prop.key"\n                            [id]="prop.key" [type]="prop.type">\n                   </mat-form-field>\n                </div>\n                <div *ngSwitchCase="\'date\'">\n                    <mat-form-field fxFlex>\n                        <input matInput [matDatepicker]=picker placeholder="{{prop.label}}"\n                            [formControlName]="prop.key"\n                            [id]="prop.key">\n                        <mat-datepicker #picker></mat-datepicker>\n                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n                    </mat-form-field>\n                </div>\n                <div *ngSwitchCase="\'time\'">\n                    <mat-form-field fxFlex>\n                        <input matInput [ngxTimepicker]="tpicker" placeholder="{{prop.label}}"\n                            [format]="24"\n                            [formControlName]="prop.key"\n                            [id]="prop.key">\n                        <ngx-material-timepicker #tpicker></ngx-material-timepicker>\n                    </mat-form-field>\n                </div>\n\n                <div *ngSwitchCase="\'radio\'" fxLayout="column">\n                    <div _ngcontent-c20="" style="height: 20px;">\n                        <label _ngcontent-c20="" style="transform: translateY(-1.28125em) scale(0.75)\n                                perspective(100px)\n                                translateZ(0.001px);\n                                -ms-transform: translateY(-1.28125em)\n                                scale(0.75);width: 133.33333333%;margin: 20px 0 0 0;font-weight: 100;color: #666;">\n                            {{prop.label}}\n                        </label>\n                    </div>\n                    <mat-radio-group [formControlName]="prop.key" [name]="prop.key" fxLayout="column" style="margin-top: 14px;">\n                        <mat-radio-button [value]="option.value" *ngFor="let option of prop.options">\n                            {{option.label}}\n                        </mat-radio-button>\n                    </mat-radio-group>\n                </div>\n\n                <div *ngSwitchCase="\'select\'">\n                    <mat-form-field fxFlex>\n                        <mat-select [formControlName]="prop.key" placeholder="{{prop.label}}">\n                            <mat-option *ngFor="let option of prop.options" [value]="option.value">\n                                {{ option.label }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class="error" *ngIf="form.get(prop.key).errors" fxFlex="100%">\n            </div>\n            <div class="error" *ngIf="form.get(prop.key).invalid && (form.get(prop.key).dirty || form.get(prop.key).touched)" fxFlex="100%">\n                <mat-error *ngIf="form.get(prop.key).errors.required">\n                    <div *ngIf="drawCustomErrors(prop, \'required\')">\n                        {{prop.validationMessages.required}}\n                    </div>\n                    <div *ngIf="!prop.validationMessages || !prop.validationMessages.required">\n                        The field {{ prop.label }} is required.\n                    </div>\n                </mat-error>\n                <mat-error *ngIf="form.get(prop.key).errors.match">\n                    <div *ngIf="drawCustomErrors(prop, \'match\')">\n                        {{prop.validationMessages.match}}\n                    </div>\n                    <div *ngIf="!prop.validationMessages || !prop.validationMessages.match">\n                        The fields doesn\'t match.\n                    </div>\n                </mat-error>\n                <mat-error *ngIf="form.get(prop.key).errors.min">\n                    <div *ngIf="drawCustomErrors(prop, \'min\')">\n                        {{prop.validationMessages.min}}\n                    </div>\n                    <div *ngIf="!prop.validationMessages || !prop.validationMessages.min">\n                        The minimal value is {{form.get(prop.key).errors.min.min}}.\n                    </div>\n                </mat-error>\n                <mat-error *ngIf="form.get(prop.key).errors.max">\n                    <div *ngIf="drawCustomErrors(prop, \'max\')">\n                        {{prop.validationMessages.max}}\n                    </div>\n                    <div *ngIf="!prop.validationMessages || !prop.validationMessages.max">\n                        The max value is {{form.get(prop.key).errors.max.max}}.\n                    </div>\n                </mat-error>\n            </div>\n        </div>\n    </form>\n\n    <button type="button" mat-raised-button\n        (click)="send()">{{ okText }}</button>\n    <button type="button" mat-button\n        (click)="dialogRef.close(false)">{{ cancelText }}</button>\n\n    '}]}],e.ctorParameters=function(){return[{type:o.MatDialogRef}]},e}(),h=function(){function e(e,t){this.dialog=e,this._sanitizer=t}return e.prototype.confirm=function(e,t,o,r){var n;return(n=this.dialog.open(y)).componentInstance.title=e,n.componentInstance.message=t,n.componentInstance.messageHtml=this._sanitizer.bypassSecurityTrustHtml(t),n.componentInstance.okText=o||"Aceptar",n.componentInstance.cancelText=r||"",n.afterClosed()},e.prototype.prompt=function(e,t,o,r,n){var a;return(a=this.dialog.open(v)).componentInstance.title=e,a.componentInstance.message=t,a.componentInstance.messageHtml=this._sanitizer.bypassSecurityTrustHtml(t),a.componentInstance.fields=o,a.componentInstance.okText=r||"Aceptar",a.componentInstance.cancelText=n||"Cancelar",a.afterClosed()},e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,a.FlexLayoutModule,o.MatDialogModule,o.MatButtonModule,u.FormsModule,u.ReactiveFormsModule,i.MatInputModule,l.MatCheckboxModule,p.MatSelectModule,m.MatRadioModule,s.MatDatepickerModule,o.MatNativeDateModule,c.MatAutocompleteModule,f.NgxMaterialTimepickerModule.forRoot()],declarations:[y,v,g],exports:[y,v],entryComponents:[y,v],providers:[e,y,v]}]},{type:t.Injectable}],e.ctorParameters=function(){return[{type:o.MatDialog},{type:d.DomSanitizer}]},e}();e.TWADialogsModule=h,e.TWAConfirmDialogComponent=y,e.TWAPromptDialogComponent=v,e.ɵa=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=twa-md2-dialogs.umd.min.js.map